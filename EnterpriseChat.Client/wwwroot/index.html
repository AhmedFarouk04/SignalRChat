<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Chat.Client</title>
    <base href="/" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="EnterpriseChat.Client.styles.css" rel="stylesheet" />

</head>

<body>
    <div id="app">
        <div class="loading-screen">
            <svg class="loading-progress">
                <circle r="40%" cx="50%" cy="50%" />
                <circle r="40%" cx="50%" cy="50%" />
            </svg>
            <div class="loading-progress-text"></div>
        </div>
    </div>


    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">ğŸ—™</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>

    <script type="module">
        import { scrollToBottom, scrollToBottomSmooth, isAtBottom, registerRoomsSearchShortcuts } from './js/scroll.js';
        import { registerEscape, unregisterEscape } from './js/keyboard.js';
        import { downloadFileFromStream } from './js/download.js';

        // âœ… Ø¨Ø¯Ù„ import Ø§Ù„Ù…Ø­Ø¯Ø¯
        import * as chatInput from './js/chatInput.js';

        import { initNotifySound, playNotify, unlockNotify } from './js/notify.js';

        window.chatInsertNewline = chatInput.insertNewline;

        // âœ… Ø­Ø§ÙˆÙ„ ÙŠÙ„Ø§Ù‚ÙŠ Ø£ÙŠ Ø§Ø³Ù… Ù…ÙˆØ¬ÙˆØ¯ ÙØ¹Ù„Ø§Ù‹
        window.chatFocus =
            chatInput.focusEl ??
            chatInput.focus ??
            chatInput.focusElement ??
            chatInput.focusInput ??
            chatInput.focusChatInput;

        window.scrollToBottom = scrollToBottom;
        window.scrollToBottomSmooth = scrollToBottomSmooth;
        window.isAtBottom = isAtBottom;
        window.registerRoomsSearchShortcuts = registerRoomsSearchShortcuts;

        window.registerEscape = registerEscape;
        window.unregisterEscape = unregisterEscape;

        window.downloadFileFromStream = downloadFileFromStream;

        initNotifySound('/sounds/notify.mp3');
        window.notifyUnlock = unlockNotify;
        window.notifyPlay = playNotify;
    </script>



</body>
</html>
