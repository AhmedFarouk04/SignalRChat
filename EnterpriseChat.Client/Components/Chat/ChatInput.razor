<div class="chat-input-wrapper">
    <input class="chat-input"
           value="@text"
           @oninput="OnInput" />

    <button class="send-btn" @onclick="Send">
        Send
    </button>
</div>

@code {
    private string text = string.Empty;

    [Parameter] public EventCallback<string> OnSend { get; set; }
    [Parameter] public EventCallback OnUserTyping { get; set; }

    private async Task OnInput(ChangeEventArgs e)
    {
        text = e.Value?.ToString() ?? string.Empty;
        await OnUserTyping.InvokeAsync();
    }

    private async Task Send()
    {
        if (string.IsNullOrWhiteSpace(text))
            return;

        await OnSend.InvokeAsync(text);
        text = string.Empty;
    }
}
